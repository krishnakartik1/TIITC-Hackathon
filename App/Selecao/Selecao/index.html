<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Selecao Bootstrap Template - Index</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Selecao - v4.1.0
  * Template URL: https://bootstrapmade.com/selecao-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center  header-transparent ">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        <h1><a href="index.html">POSTURE CORRECTION</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
  
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex flex-column justify-content-end align-items-center">
    <div id="heroCarousel" data-bs-interval="5000" class="container carousel carousel-fade" data-bs-ride="carousel">

      <!-- Slide 1 -->
      <div class="carousel-item active">
        <div class="carousel-container">
          <h2 class="animate__animated animate__fadeInDown">What it's About</h2>
          <p class="animate__animated fanimate__adeInUp">Due to coronavirus outbreak majorities of companies have assigned its employees with work from home. It definitely offers comfort being in your PJs but with lack of proper office furniture it can be tricky to maintain the right posture while working from home.</p>
          <!-- <a href="#about" class="btn-get-started animate__animated animate__fadeInUp scrollto">Read More</a> -->
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="carousel-item">
        <div class="carousel-container">
          <h2 class="animate__animated animate__fadeInDown">Physical Benifits</h2>
          <p class="animate__animated animate__fadeInUp">It protects you from various musculoskeletal disorders.</br>
            It saves you from developing a ‘tech-neck’ i.e., head down, back-bent slouching position and shoulders forward leaning</br>
            It improves blood circulation in the body</br>
            It decreases back and body pains</br>
            It makes your muscles stronger, especially of the back</br>
            It allows you to burn more calories</p>
          <!-- <a href="#about" class="btn-get-started animate__animated animate__fadeInUp scrollto">Read More</a> -->
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="carousel-item">
        <div class="carousel-container">
          <h2 class="animate__animated animate__fadeInDown">Mental Benifits</h2>
          <p class="animate__animated animate__fadeInUp">It leads to better productivity
            It enhances the mental alertness
            It reduces mental fatigue
            It improves breathing
            It boosts energy level</p>
          <!-- <a href="#about" class="btn-get-started animate__animated animate__fadeInUp scrollto">Read More</a> -->
        </div>
      </div>

      <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bx bx-chevron-left" aria-hidden="true"></span>
      </a>

      <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon bx bx-chevron-right" aria-hidden="true"></span>
      </a>

    </div>

    <svg class="hero-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28 " preserveAspectRatio="none">
      <defs>
        <path id="wave-path" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z">
      </defs>
      <g class="wave1">
        <use xlink:href="#wave-path" x="50" y="3" fill="rgba(255,255,255, .1)">
      </g>
      <g class="wave2">
        <use xlink:href="#wave-path" x="50" y="0" fill="rgba(255,255,255, .2)">
      </g>
      <g class="wave3">
        <use xlink:href="#wave-path" x="50" y="9" fill="#fff">
      </g>
    </svg>

  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>About</h2>
          <p>Who we are</p>
        </div>

        <div class="row content" data-aos="fade-up">
          <div class="col-lg-6">
            <p>
              Work From Home Posture Correction Hackathon Team
            </p>
            
          </div>
          <div class="col-lg-6 pt-4 pt-lg-0">
            <p>
              Project Description
            </p>
            <a href="#" class="btn-learn-more">Learn More</a>
          </div>
        </div>

      </div>
    </section><!-- End About Section -->

    <!-- ======= Features Section ======= -->
    <section id="features" class="features">
      <div class="container">

        <ul class="nav nav-tabs row d-flex">
          <li class="nav-item col-3" data-aos="zoom-in">
            <a class="nav-link active show" data-bs-toggle="tab" href="#tab-1">
              <i class="ri-gps-line"></i>
              <h4 class="d-none d-lg-block">Real Time Posture Monitoring</h4>
            </a>
          </li>
          <li class="nav-item col-3" data-aos="zoom-in" data-aos-delay="100">
            <a class="nav-link" data-bs-toggle="tab" href="#tab-2">
              <i class="ri-body-scan-line"></i>
              <h4 class="d-none d-lg-block">Setup your Workplace</h4>
            </a>
          </li>
          <li class="nav-item col-3" data-aos="zoom-in" data-aos-delay="200">
            <a class="nav-link" data-bs-toggle="tab" href="#tab-3">
              <i class="ri-sun-line"></i>
              <h4 class="d-none d-lg-block">Contact for Assistance</h4>
            </a>
          </li>
          <li class="nav-item col-3" data-aos="zoom-in" data-aos-delay="300">
            <a class="nav-link" data-bs-toggle="tab" href="#tab-4">
              <i class="ri-store-line"></i>
              <h4 class="d-none d-lg-block">Get Exercie Break Alert</h4>
            </a>
          </li>
        </ul>

        <div class="tab-content" data-aos="fade-up">
          <div class="tab-pane active show" id="tab-1">
            <div class="row">
              <div class="col-lg-6 order-2 order-lg-1 mt-3 mt-lg-0">
                <h3>Real Time Posture Monitoring Using Web Cam.</h3>
                <p class="fst-italic">
                  Using Machine learning to help to maintain correct posture
                </p>
               
              </div>
              <div class="col-lg-6 order-1 order-lg-2 text-center">
                <img src="assets/img/features-1.png" alt="" class="img-fluid">
              </div>
            </div>
          </div>
          
          
          <div class="tab-pane" id="tab-2">
            <div class="row">
              <div class="col-lg-6 order-2 order-lg-1 mt-3 mt-lg-0">
                <h3>Setup Your Workplace using the AR Technology</h3>
                <p>
                  Take Measurement and get the recommendation from the AI
                </p>
                
              </div>
              <div class="col-lg-6 order-1 order-lg-2 text-center">
                <img src="assets/img/features-2.png" alt="" class="img-fluid">
              </div>
            </div>
          </div>
          
          <div class="tab-pane" id="tab-3">
            <div class="row">
              <div class="col-lg-6 order-2 order-lg-1 mt-3 mt-lg-0">
                <h3>Connect With our Experts</h3>
                <p>
                 Contact the experts and they can assist you with your posture
                </p>
               
              </div>
              <div class="col-lg-6 order-1 order-lg-2 text-center">
                <img src="assets/img/features-3.png" alt="" class="img-fluid">
              </div>
            </div>
          </div>
          <div class="tab-pane" id="tab-4">
            <div class="row">
              <div class="col-lg-6 order-2 order-lg-1 mt-3 mt-lg-0">
                <h3>Get Timely Exercise and Break Alert</h3>
                <p>
                 To keep you healthy, every 20 minutes break notification would be pushed.
                </p>
               
              </div>
              <div class="col-lg-6 order-1 order-lg-2 text-center">
                <img src="assets/img/features-4.png" alt="" class="img-fluid">
              </div>
            </div>
          </div>
        </div>

      </div>
    </section><!-- End Features Section -->

    <!-- ======= Cta Section ======= -->
    <section id="cta" class="cta">
      <div class="container">

        
        <div class="row" data-aos="zoom-out">
            <div class="col-lg-9 text-center text-lg-start">
              <h3>Lets Monitor</h3>
              <canvas id="canvas"></canvas>
            </div>
            <div class="col-lg-3 cta-btn-container text-center">
              <!-- <class="cta-btn align-middle" onclick="init()">Start Recording</a> -->
              <button class="cta-btn align-middle" id="startBtn" type="button" onclick="init()">Start</button>
              <div style="width: 300px; height: 300px;">
                <canvas id="myChart"></canvas>
              </div>
              
            </div>
            <div>
             
            </div>
           
        </div>
        
          <p id="label-container"></p>
         
         
        

        <div class="col-lg-12 cta-btn-container text-center">
          <p id="label-container"></p>
          <div class="section-title" data-aos="zoom-out">
            <p id="labelGoodPose"></p>
          <p id="labelBadPose"></p>
           
          </div>
          

        </div>



      </div>
    </section><!-- End Cta Section -->

     <!-- ======= Bad poses Section ======= -->
     <section id="badPoses" style="display:none;" class="services">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Poses</h2>
          <p>Bad Poses</p>
        </div>
       
        <div class="row">
          <div class="col-lg-12 col-md-12">
            <div class="icon-box" data-aos="zoom-in-left">
              
              <h4 class="title"><a href="">Chart</a></h4>
              <p class="description">
                <div style="float:left"><canvas id="badPose1"></canvas></div>
            <div style="float:left"><canvas id="badPose2"></canvas></div>
            <div style="float:left"><canvas id="badPose3"></canvas></div>
            <div style="float:left"><canvas id="badPose4"></canvas></div>
            <div style="float:left"><canvas id="badPose5"></canvas></div>

              </p>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Monitoring Section -->

        <!-- ======= Monitoring Section ======= -->
        <section id="servicess" class="services">
          <div class="container">
    
            <div class="section-title" data-aos="zoom-out">
              <h2>Monitoring</h2>
              <p>Time based Bad Poses Analysis</p>
            </div>
           
            <div class="row">
              <div class="col-lg-12 col-md-12">
                <div class="icon-box" data-aos="zoom-in-left">
                  
                  <h4 class="title"><a href="">Chart</a></h4>
                  <p class="description">
                    <canvas id="badPostureChart"></canvas>

                  </p>
                </div>
              </div>

            </div>
    
          </div>
        </section><!-- End Monitoring Section -->

    <!-- ======= Services Section ======= -->
    <section id="exerciseSection" class="services">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Exercises</h2>
          <p>Do Streches</p>
        </div>
        <div id="messages">
          <p id="notify">Its Time to Take Break for 20 seconds</p>
          <div id="exercise"><p>Show Extercise</p> <button onclick="closeExercise()" >Close </button> </div>
      </div>
        <div class="row">
          <div class="col-lg-4 col-md-6">
            <iframe src="https://www.youtube.com/embed/g_tea8ZNk5A">
            </iframe>
          </div>
          <div class="col-lg-4 col-md-6 mt-5 mt-md-0">
            <iframe src="https://www.youtube.com/embed/4pKly2JojMw">
            </iframe>
          </div>

          <div class="col-lg-4 col-md-6 mt-5 mt-lg-0 ">
            <iframe src="https://www.youtube.com/embed/vuGnzLxRvZM">
            </iframe>
          </div>
          <div class="col-lg-4 col-md-6 mt-5">
            <iframe src="https://www.youtube.com/embed/x_WJ5cotyfE">
            </iframe>
          </div>

          <div class="col-lg-4 col-md-6 mt-5">
            <iframe src="https://www.youtube.com/embed/72MQmD8Z9Zw">
              
            </iframe>
          </div>
          <div class="col-lg-4 col-md-6 mt-5">
            <iframe src="https://www.youtube.com/embed/X3-gKPNyrTA">
              
            </iframe>
          </div>
        </div>

      </div>
    </section><!-- End Services Section -->





    <!-- ======= Pricing Section ======= -->
    <section id="pricing" class="pricing">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Break Time</h2>
          <p>20 - 20 - 20</p>
        </div>

        <div class="row">

          
          
          <div class="col-lg-4 col-md-6 mt-4 mt-md-0">
            <div class="box featured" data-aos="zoom-in" data-aos-delay="100">
              <h3>Stand Up</h3>
              <ul>
                <li>In every 20 minutes while working, as a reminder to take a break.</li>
              </ul>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mt-4 mt-md-0">
            <div class="box featured" data-aos="zoom-in" data-aos-delay="100">
              <h3>Break</h3>
              <ul>
                <li>A person can benefit from closing their eyes for 20 seconds every 20 minutes.</li>
              </ul>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 mt-4 mt-md-0">
            <div class="box featured" data-aos="zoom-in" data-aos-delay="100">
              <h3>Look Out</h3>
              <ul>
                <li>Judging a distance of 20 feet inside can be difficult, but focusing on a tree or lamppost across the street should work well.</li>
              </ul>
            </div>
          </div>


          

    

          

        </div>

      </div>
    </section><!-- End Pricing Section -->

    <!-- ======= F.A.Q Section ======= -->
    <section id="faq" class="faq">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>F.A.Q</h2>
          <p>Frequently Asked Questions</p>
        </div>

        <ul class="faq-list">

          <li>
            <div data-bs-toggle="collapse" class="collapsed question" href="#faq1">Non consectetur a erat nam at lectus urna duis? <i class="bi bi-chevron-down icon-show"></i><i class="bi bi-chevron-up icon-close"></i></div>
            <div id="faq1" class="collapse" data-bs-parent=".faq-list">
              <p>
                Feugiat pretium nibh ipsum consequat. Tempus iaculis urna id volutpat lacus laoreet non curabitur gravida. Venenatis lectus magna fringilla urna porttitor rhoncus dolor purus non.
              </p>
            </div>
          </li>

          <li>
            <div data-bs-toggle="collapse" href="#faq2" class="collapsed question">Feugiat scelerisque varius morbi enim nunc faucibus a pellentesque? <i class="bi bi-chevron-down icon-show"></i><i class="bi bi-chevron-up icon-close"></i></div>
            <div id="faq2" class="collapse" data-bs-parent=".faq-list">
              <p>
                Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi. Id interdum velit laoreet id donec ultrices. Fringilla phasellus faucibus scelerisque eleifend donec pretium. Est pellentesque elit ullamcorper dignissim. Mauris ultrices eros in cursus turpis massa tincidunt dui.
              </p>
            </div>
          </li>

          <li>
            <div data-bs-toggle="collapse" href="#faq3" class="collapsed question">Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi? <i class="bi bi-chevron-down icon-show"></i><i class="bi bi-chevron-up icon-close"></i></div>
            <div id="faq3" class="collapse" data-bs-parent=".faq-list">
              <p>
                Eleifend mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Faucibus pulvinar elementum integer enim. Sem nulla pharetra diam sit amet nisl suscipit. Rutrum tellus pellentesque eu tincidunt. Lectus urna duis convallis convallis tellus. Urna molestie at elementum eu facilisis sed odio morbi quis
              </p>
            </div>
          </li>

          <li>
            <div data-bs-toggle="collapse" href="#faq4" class="collapsed question">Ac odio tempor orci dapibus. Aliquam eleifend mi in nulla? <i class="bi bi-chevron-down icon-show"></i><i class="bi bi-chevron-up icon-close"></i></div>
            <div id="faq4" class="collapse" data-bs-parent=".faq-list">
              <p>
                Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi. Id interdum velit laoreet id donec ultrices. Fringilla phasellus faucibus scelerisque eleifend donec pretium. Est pellentesque elit ullamcorper dignissim. Mauris ultrices eros in cursus turpis massa tincidunt dui.
              </p>
            </div>
          </li>

          <li>
            <div data-bs-toggle="collapse" href="#faq5" class="collapsed question">Tempus quam pellentesque nec nam aliquam sem et tortor consequat? <i class="bi bi-chevron-down icon-show"></i><i class="bi bi-chevron-up icon-close"></i></div>
            <div id="faq5" class="collapse" data-bs-parent=".faq-list">
              <p>
                Molestie a iaculis at erat pellentesque adipiscing commodo. Dignissim suspendisse in est ante in. Nunc vel risus commodo viverra maecenas accumsan. Sit amet nisl suscipit adipiscing bibendum est. Purus gravida quis blandit turpis cursus in
              </p>
            </div>
          </li>

          <li>
            <div data-bs-toggle="collapse" href="#faq6" class="collapsed question">Tortor vitae purus faucibus ornare. Varius vel pharetra vel turpis nunc eget lorem dolor? <i class="bi bi-chevron-down icon-show"></i><i class="bi bi-chevron-up icon-close"></i></div>
            <div id="faq6" class="collapse" data-bs-parent=".faq-list">
              <p>
                Laoreet sit amet cursus sit amet dictum sit amet justo. Mauris vitae ultricies leo integer malesuada nunc vel. Tincidunt eget nullam non nisi est sit amet. Turpis nunc eget lorem dolor sed. Ut venenatis tellus in metus vulputate eu scelerisque. Pellentesque diam volutpat commodo sed egestas egestas fringilla phasellus faucibus. Nibh tellus molestie nunc non blandit massa enim nec.
              </p>
            </div>
          </li>

        </ul>

      </div>
    </section><!-- End F.A.Q Section -->


  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <h3>Posture Correction</h3>
      <p>Its a Hackathon Project</p>
      <div class="social-links">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
      <div class="copyright">
        &copy; Copyright <strong><span>Posture Correction</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/selecao-bootstrap-template/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>








<!-- Project Code -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="text/javascript">
    // More API functions here:
    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/pose

    // the link to your model provided by Teachable Machine export panel
    const URL = "./my-pose-model/";
    let model, webcam, ctx, labelContainer, maxPredictions;
    let ctxBadPose1,ctxBadPose2,ctxBadPose3,ctxBadPose4,ctxBadPose5;
    let imageIndex=0;
    let goodPosture=0;
    let breakDuration=50000;


    /*
    Chart Configurations
    */

        const data = {
    labels: [
        'Bad Posture',
        'Good Posture',
    ],
    datasets: [{
        label: 'My First Dataset',
        data: [0,0],
        backgroundColor: [
        'rgb(255, 99, 132)',
        'rgb(54, 162, 235)'
        ],
        hoverOffset: 4
    }]
    };
    const config = {
  type: 'doughnut',
  data: data,
};


var myChart = new Chart(
    document.getElementById('myChart'),
    config
  );

  const scatterChartData = {
  datasets: [{
    label: 'Bad Posture',
    data: [{
      x: new Date().getMinutes(),
      y: 5
    }
    ],
    backgroundColor: 'rgb(255, 99, 132)'
  }],
};



  const scatterChartConfig = {
  type: 'scatter',
  data: scatterChartData,
  options: {
    scales: {
      x: {
        type: 'linear',
        position: 'bottom'
      }
    }
  }
};

var badPostureChart = new Chart(
    document.getElementById('badPostureChart'),
    scatterChartConfig
  );
  /*
  chart configuration ends here
  */

    async function init() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";

        /*Basic Styles*/
        var btn=document.getElementById("startBtn");
        btn.style.display="none"

        var section=document.getElementById("badPoses");
        section.style.display="block"

        // load the model and metadata
        // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
        // Note: the pose library adds a tmPose object to your window (window.tmPose)
        model = await tmPose.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();

        // Convenience function to setup a webcam
        const size = 200;
        const flip = true; // whether to flip the webcam
        webcam = new tmPose.Webcam(size, size, flip); // width, height, flip
        await webcam.setup(); // request access to the webcam
        await webcam.play();
        window.requestAnimationFrame(loop);

        // append/get elements to the DOM
        const canvas = document.getElementById("canvas");
        canvas.width = size; canvas.height = size;
        ctx = canvas.getContext("2d");
        labelContainer = document.getElementById("label-container");
        for (let i = 0; i < maxPredictions; i++) { // and class labels
            labelContainer.appendChild(document.createElement("div"));
        }

        //Setting up space for bad poses
        const canvasBadPose1 = document.getElementById("badPose1");
        canvasBadPose1.width = size; canvasBadPose1.height = size;

        const canvasBadPose2 = document.getElementById("badPose2");
        canvasBadPose2.width = size; canvasBadPose2.height = size;

        const canvasBadPose3 = document.getElementById("badPose3");
        canvasBadPose3.width = size; canvasBadPose3.height = size;

        const canvasBadPose4 = document.getElementById("badPose4");
        canvasBadPose4.width = size; canvasBadPose4.height = size;

        const canvasBadPose5 = document.getElementById("badPose5");
        canvasBadPose5.width = size; canvasBadPose5.height = size;

        ctxBadPose1 = canvasBadPose1.getContext("2d");
        ctxBadPose2 = canvasBadPose2.getContext("2d");
        ctxBadPose3 = canvasBadPose3.getContext("2d");
        ctxBadPose4 = canvasBadPose4.getContext("2d");
        ctxBadPose5 = canvasBadPose5.getContext("2d");
    }

    async function loop(timestamp) {
        webcam.update(); // update the webcam frame
        await predict();
        window.requestAnimationFrame(loop);
    }

    async function predict() {
        // Prediction #1: run input through posenet
        // estimatePose can take in an image, video or canvas html element
        const { pose, posenetOutput } = await model.estimatePose(webcam.canvas);
        // Prediction 2: run input through teachable machine classification model
        const prediction = await model.predict(posenetOutput);
        let d=new Date().getMilliseconds();
        
        for (let i = 0; i < maxPredictions; i++) {
          console.log("values: "+prediction[i].className + ": " + prediction[i].probability.toFixed(3))
            const classPrediction =
                prediction[i].className + ": " + prediction[i].probability.toFixed(2);
            labelContainer.childNodes[i].innerHTML = classPrediction;
            if(prediction[i].className=="Class 1")
            {
                goodPosture=goodPosture+Number(prediction[i].probability.toFixed(2));
                //console.log("adding: "+goodPosture);
            }
                
                else
                    goodPosture=goodPosture-prediction[i].probability.toFixed(2);
    
           if (d<new Date().getSeconds())
           {
               console.log(goodPosture)
               if (goodPosture<0)
               {
                //    console.log("Bad Posture");
                goodPosture<-20?drawBadPoses(pose,imageIndex):null;
                    drawBadPoses(pose,imageIndex);
                    imageIndex=imageIndex+1;
                    imageIndex=imageIndex%5;
                   document.getElementById("labelGoodPose").innerHTML="Bad Posture";
                   data.datasets[0].data[0]=data.datasets[0].data[0]+1;
                   
                   
               }
               else
               {
                // console.log("Good Posture");
                drawBadPoses(pose,10);
                document.getElementById("labelGoodPose").innerHTML="Good Posture";
                data.datasets[0].data[1]=data.datasets[0].data[1]+1;
                scatterChartData.datasets[0].data.push({x: new Date().getMinutes(),y:goodPosture})
               }
               d=new Date().getSeconds();
               
               goodPosture=0;
               
               myChart.update();
               badPostureChart.update();
           }

            
            
        }

        // finally draw the poses
        drawPose(pose);
    }

    function drawPose(pose) {
        if (webcam.canvas) {
            ctx.drawImage(webcam.canvas, 0, 0);
            // draw the keypoints and skeleton
            if (pose) {
                const minPartConfidence = 0.5;
                tmPose.drawKeypoints(pose.keypoints, minPartConfidence, ctx);
                tmPose.drawSkeleton(pose.keypoints, minPartConfidence, ctx);
            }
        }
    }

    function drawBadPose(pose) {
        if (webcam.canvas) {
            ctxBadPose1.drawImage(webcam.canvas, 0, 0);
            // draw the keypoints and skeleton
            if (pose) {
                const minPartConfidence = 0.5;
                tmPose.drawKeypoints(pose.keypoints, minPartConfidence, ctxBadPose1);
                tmPose.drawSkeleton(pose.keypoints, minPartConfidence, ctxBadPose1);
            }
        }
    }

    function drawBadPoses(pose,imageIndex) {
        let ctx;
        switch(imageIndex)
        {
            case 0:ctx=ctxBadPose1;break;
            case 1:ctx=ctxBadPose2;break;
            case 2:ctx=ctxBadPose3;break;
            case 3:ctx=ctxBadPose4;break;
            case 4:ctx=ctxBadPose5;break;
        }
        //let ctx=ctxBadPose2;
        if (webcam.canvas && imageIndex<10) {
            ctx.drawImage(webcam.canvas, 0, 0);
            // draw the keypoints and skeleton
            if (pose) {
                const minPartConfidence = 0.5;
                tmPose.drawKeypoints(pose.keypoints, minPartConfidence, ctx);
                tmPose.drawSkeleton(pose.keypoints, minPartConfidence, ctx);
            }
        }
        else
        {
            
        }
    }


    /*
    Performing 20-20-20 Rule
    */

    let breakCount=0;
    const interval=setInterval(breakMethod,breakDuration);
    function breakMethod()
    {
        //alert("Take break");
        var notify=document.getElementById("notify")
        notify.style.display="block";
        console.log("starting break");
        breakCount=breakCount+1;
        if (breakCount>3)
        {
            breakCount=0;
            var exercise=document.getElementById("exerciseSection");
            exercise.scrollIntoView();
        }

        startBreak();
        
    }

    function startBreak()
    {
        setTimeout(function(){
            var notify=document.getElementById("notify")
        notify.style.display="none";
        },2000)
    }

    function closeExercise()
    {
        var exercise=document.getElementById("exercise");
            exercise.style.display="none";
    }


</script>




</body>

</html>